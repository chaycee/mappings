namespace TooniverseAPI.Mappings.Utils.Http;

public static class Proxy
{
    private static readonly string[] Proxies = new[]
    {
        "194.195.220.11:8080",
        "49.12.3.61:8080",
        "34.230.244.92:80",
        "15.188.45.7:8888",
        "164.92.73.227:5000",
        "185.209.163.8:7000",
        "159.203.146.210:8080",
        "3.138.186.181:80",
        "52.212.4.80:80",
        "51.195.216.77:80",
        "34.244.252.86:8080",
        "119.199.215.171:8080",
        "35.241.97.229:8080",
        "178.128.125.22:8080",
        "202.79.169.224:8080",
        "3.13.219.45:80",
        "3.1.190.110:8080",
        "3.23.24.234:8080",
        "52.24.28.251:80",
        "3.237.104.64:80",
        "146.185.145.20:8080",
        "34.250.247.29:80",
        "3.140.56.174:80",
        "54.236.10.130:8080",
        "54.160.9.172:8080",
        "34.250.32.232:8080",
        "35.154.206.102:80",
        "34.87.69.7:8090",
        "54.210.217.8:80",
        "211.51.150.200:8080",
        "112.107.219.74:80",
        "164.90.180.191:8080",
        "174.138.107.78:49153",
        "51.178.15.186:5443",
        "44.198.116.236:8080",
        "13.232.56.239:8080",
        "35.92.55.229:5000",
        "13.213.61.67:5000",
        "189.8.93.93:9999",
        "34.255.39.43:80",
        "59.16.141.47:8080",
        "52.215.243.15:80",
        "170.178.220.221:80",
        "35.224.47.226:80",
        "194.62.19.4:8080",
        "125.134.87.145:8080",
        "3.37.165.71:80",
        "157.245.85.48:9090",
        "14.35.12.23:8080",
        "27.35.131.31:8080",
        "34.201.198.214:8010",
        "35.247.10.31:7779",
        "14.132.213.220:8080",
        "104.197.32.86:8080",
        "210.183.74.35:8080",
        "3.20.37.50:8082",
        "88.150.229.19:9090",
        "43.201.25.116:8080",
        "134.209.105.51:8080",
        "34.223.212.29:80",
        "18.203.130.168:80",
        "115.22.77.208:8080",
        "134.122.88.54:8080",
        "159.89.98.10:8080",
        "167.71.130.240:9000",
        "177.38.191.251:8098",
        "218.49.254.196:8080",
        "18.219.170.149:80",
        "128.199.59.104:8080",
        "134.209.105.51:80",
        "46.101.5.103:5000",
        "18.202.16.40:80",
        "34.29.192.98:9090",
        "188.138.123.24:8082",
        "44.228.217.41:8090",
        "103.81.86.82:3100",
        "211.107.220.190:8080",
        "168.119.104.1:8080",
        "4.236.220.159:8080",
        "3.131.149.214:8080",
        "18.218.30.25:80",
        "3.98.5.114:80",
        "5.135.183.154:8182",
        "92.204.137.120:7000",
        "34.247.166.141:80",
        "188.166.239.190:8080",
        "54.77.56.244:80",
        "185.223.95.135:7000",
        "54.74.32.236:8080",
        "64.227.99.110:80",
        "18.163.28.243:8001",
        "3.76.211.4:3002",
        "128.140.40.219:8080",
        "149.28.237.160:8080",
        "140.238.154.147:8088",
        "159.65.139.98:8800",
        "221.148.146.146:8080",
        "14.47.193.210:8080",
        "211.196.39.153:8080",
        "61.101.2.98:8080",
        "35.82.176.44:8090",
        "178.154.209.44:8888",
        "167.114.208.155:8082",
        "35.176.192.182:3000",
        "220.85.51.10:8080",
        "35.164.143.37:80",
        "18.232.216.49:80",
        "190.234.74.5:8200",
        "138.197.208.159:80",
        "161.35.57.151:8080",
        "15.228.179.158:9999",
        "165.227.255.29:8080",
        "34.206.48.101:80",
        "211.217.209.151:8080",
        "44.235.4.105:80",
        "159.69.124.78:9999",
        "35.224.47.226:8080",
        "118.37.27.44:8080",
        "178.170.194.23:5000",
        "188.72.109.51:5000",
        "194.67.106.229:8080",
        "178.170.242.112:5000",
        "202.79.169.223:8080",
        "34.212.194.205:80",
        "13.37.180.95:80",
        "54.74.127.216:80",
        "52.60.49.117:80",
        "149.28.153.226:8080",
        "188.166.216.187:8080",
        "54.190.217.117:8090",
        "20.51.249.171:8082",
        "159.89.155.250:8080",
        "52.31.129.141:8080",
        "46.101.200.151:8080",
        "18.223.23.28:8080",
        "34.239.64.36:80",
        "202.182.112.29:8080",
        "185.209.163.1:7000",
        "35.166.13.9:80",
        "87.236.146.197:8080",
        "50.17.51.54:80",
        "200.170.210.243:9999",
        "58.142.73.22:8080",
        "121.156.215.13:8080",
        "110.4.41.173:3092",
        "23.21.171.185:80",
        "52.204.96.118:80",
        "165.232.163.101:8080",
        "104.248.100.150:8080",
        "3.134.91.166:8080",
        "188.166.97.213:49153",
        "138.68.115.164:8080",
        "34.168.189.35:7004",
        "52.18.212.74:8080",
        "175.195.159.238:8080",
        "52.54.114.82:80",
        "59.10.71.130:8080",
        "3.88.247.154:80",
        "95.217.187.97:8080",
        "161.156.161.8:8989",
        "148.187.149.42:80",
        "188.72.108.241:5000",
        "3.110.39.229:8080",
        "54.236.10.130:80",
        "107.189.7.66:9015",
        "3.232.52.250:80",
        "18.143.89.39:8080",
        "207.180.220.37:8001",
        "80.211.207.17:3838",
        "59.22.122.227:8080",
        "13.37.68.90:80",
        "85.215.165.64:5000",
        "3.14.165.106:80",
        "14.51.110.213:8080",
        "185.68.21.132:8080",
        "175.214.254.139:8080",
        "54.165.1.237:80",
        "68.183.15.53:80",
        "154.12.55.62:8080",
        "3.37.236.183:8080",
        "185.223.95.137:7000",
        "13.229.254.173:80",
        "112.160.0.11:8080",
        "121.172.125.189:8080",
        "175.213.189.48:8080",
        "3.94.195.219:80",
        "149.56.16.187:6543",
        "61.74.185.166:8080",
        "44.225.81.28:8080",
        "23.111.183.102:80",
        "124.107.90.133:8888",
        "119.192.242.157:8080",
        "14.33.192.150:8080",
        "5.78.40.231:8080",
        "52.56.156.85:8084",
        "3.7.147.32:80",
        "134.195.211.197:8080",
        "23.94.122.194:5555",
        "185.209.163.6:7000",
        "192.99.232.224:3002",
        "185.223.95.141:7000",
        "83.96.244.108:8888",
        "150.158.214.132:8080",
        "210.91.88.194:8080",
        "61.77.106.112:8080",
        "18.191.201.241:80",
        "118.38.197.122:8080",
        "125.138.102.205:8080",
        "62.210.190.77:8080",
        "134.102.219.4:9090",
        "175.208.170.55:8080",
        "34.78.67.250:8080",
        "34.78.71.65:80",
        "204.48.25.147:8080",
        "35.220.209.40:8080",
        "161.97.135.20:8881",
        "44.204.214.232:8080",
        "18.142.59.31:80",
        "13.251.114.167:80",
        "35.167.179.30:80",
        "216.10.242.195:8080",
        "35.241.97.229:80",
        "198.23.228.188:8080",
        "52.205.199.85:8080",
        "175.215.10.90:8080",
        "35.181.66.212:80",
        "87.242.92.183:5000",
        "44.207.110.123:8080",
        "34.230.244.92:8080",
        "13.124.46.36:8080",
        "51.79.72.71:6543",
        "50.83.117.177:8088",
        "95.217.133.207:80",
        "121.139.217.69:8080",
        "94.139.253.232:5000",
        "13.210.114.186:80",
        "54.217.162.158:80",
        "125.132.183.14:8080",
        "52.55.1.213:80",
        "119.204.186.16:8080",
        "222.120.89.131:8080",
        "59.27.41.6:8080",
        "195.201.24.234:8990",
        "3.210.124.252:80",
        "34.206.0.36:8099",
        "49.255.68.39:8080",
        "220.89.240.66:8080",
        "161.35.70.169:3838",
        "3.13.149.88:8050",
        "3.36.132.37:5000",
        "3.228.124.13:80",
        "44.230.158.70:8080",
        "87.236.146.197:80",
        "220.125.228.210:8080",
        "185.130.105.15:7000",
        "3.211.3.138:80",
        "119.198.52.134:8080",
        "34.205.36.93:80",
        "185.103.155.163:8082",
        "128.199.34.91:8080",
        "49.12.67.39:4200",
        "185.143.45.51:8066",
        "18.215.167.22:80",
        "213.239.196.151:8080",
        "65.1.8.175:80",
        "13.58.118.17:8080",
        "188.166.166.45:8080",
        "128.199.233.26:80",
        "64.227.117.99:8080",
        "211.23.29.201:8080",
        "35.164.17.105:82",
        "14.51.246.40:8080",
        "20.53.204.208:80",
        "213.203.179.36:8008",
        "159.253.18.154:8080",
        "54.84.65.113:8080",
        "46.101.91.154:8080",
        "181.65.234.85:3000",
        "130.193.36.82:8888",
        "34.220.11.153:8080",
        "195.161.68.205:8080",
        "165.227.255.29:9080",
        "121.163.198.167:8080",
        "217.182.171.139:8080",
        "222.120.89.129:8080",
        "3.19.198.81:8080",
        "59.15.185.231:8080",
        "35.247.147.119:8090",
        "159.223.40.242:8080",
        "185.206.215.185:3002",
        "92.154.57.226:8080",
        "16.171.18.215:8080",
        "159.223.165.183:8101",
        "141.95.19.7:8888",
        "167.172.120.117:5000",
        "217.160.193.63:8080",
        "107.189.7.66:9017",
        "52.149.157.55:3000",
        "51.79.133.76:8080",
        "78.46.223.121:8080",
        "185.229.226.141:8080",
        "54.188.34.84:5000",
        "210.183.39.4:8080",
        "51.178.84.198:5000",
        "18.189.205.130:4001",
        "35.180.252.41:8080",
        "184.72.28.64:3000",
        "168.119.169.77:80",
        "59.20.243.249:8080",
        "149.28.148.8:8881",
        "34.78.67.250:80",
        "121.159.147.72:8888",
        "54.88.85.128:80",
        "142.93.237.82:8080",
        "51.250.18.230:8888",
        "178.170.197.238:5000",
        "47.254.195.115:8080",
        "122.52.135.214:3000",
        "67.205.165.229:8080",
        "211.106.101.85:8080",
        "185.130.105.16:7000",
        "90.91.253.177:5002",
        "121.157.165.163:8080",
        "5.252.231.50:8080",
        "121.174.67.90:8080",
        "118.42.203.187:8080",
        "135.181.96.11:8080",
        "121.142.156.174:8080",
        "139.59.9.203:83",
        "81.30.80.124:12000",
        "128.199.191.72:8080",
        "18.118.201.91:80",
        "13.49.92.177:80",
        "66.94.109.62:5000",
        "34.78.168.103:8080",
        "119.195.100.108:8080",
        "198.71.49.72:8080",
        "51.250.31.204:8888",
        "3.38.240.108:80",
        "46.101.8.115:8080",
        "213.239.213.42:5000",
        "46.4.59.216:81",
        "13.58.63.106:9876",
        "3.110.128.73:8080",
        "218.148.124.1:8080",
        "161.35.57.151:9080",
        "121.173.218.168:8080",
        "104.248.240.138:8444",
        "139.162.34.246:8080",
        "13.126.73.4:80",
        "116.203.20.37:8080",
        "54.166.171.122:8080",
        "45.78.67.83:9299",
        "162.241.129.193:3000",
        "164.92.176.190:8080",
        "103.81.86.82:8383",
        "62.171.165.248:8080",
        "35.241.97.229:5000",
        "104.248.22.84:8000",
        "119.201.105.195:8080",
        "87.242.121.203:5000",
        "78.47.230.107:80",
        "118.47.169.34:8080",
        "165.22.103.95:8080",
        "188.166.216.187:5000",
        "54.236.199.9:80",
        "109.72.149.152:8111",
        "219.248.14.178:8080",
        "59.16.209.232:8080",
        "121.189.75.120:8080",
        "18.219.101.80:8080",
        "104.237.141.25:8080",
        "188.166.246.232:8080",
        "221.161.72.101:8080",
        "144.202.45.173:8080",
        "34.228.215.31:8080",
        "42.116.22.215:5000",
        "18.191.244.124:8000",
        "35.240.149.15:8080"
    };

    private static Dictionary<string, int> ProxyList { get; }

    static Proxy()
    {
        ProxyList = Proxies.Distinct().GroupBy(proxy => proxy)
            .ToDictionary(group => group.Key, group => group.Count());
    }

    public static string GetLeastUsedProxy()
    {
        var leastUsedProxy = ProxyList.Aggregate((leastUsed, entry) =>
            entry.Value < leastUsed.Value ? entry : leastUsed);

        ProxyList[leastUsedProxy.Key]++;
        return "http://" + leastUsedProxy.Key + "/";
    }
}